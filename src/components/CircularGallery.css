.circular-gallery {
  position: relative;
  width: 100%;
  max-width: 100%;
  height: auto;                 /* don't stretch to parent height */
  min-height: clamp(320px, 60vh, 720px); /* ensure enough space for canvas */
  margin-top: clamp(16px, 4vh, 40px);    /* add breathing space from previous section */
  padding-top: clamp(12px, 3vh, 32px);   /* space so cards don't touch the top edge */
  overflow: hidden;
  overflow-x: clip;
  cursor: grab;
  touch-action: pan-y; /* disable horizontal pan */
  -webkit-tap-highlight-color: transparent;
  isolation: isolate;           /* prevent unexpected z-index stacking over previous sections */
  z-index: 0;                   /* keep below any sticky/header elements */
}

.circular-gallery:active {
  cursor: grabbing;
}

/* Reveal animation (scoped to this component) */
.reveal {
  opacity: 0;
  transform: translateY(18px) scale(.975);
  filter: blur(6px);
  transition: opacity .6s ease, transform .65s cubic-bezier(.25,.85,.35,1), filter .6s ease;
  transition-delay: var(--d, 0s);
}
.reveal.show {
  opacity: 1;
  transform: translateY(0) scale(1);
  filter: blur(0px);
}

/* Ensure the WebGL canvas never stretches beyond container */
.circular-gallery canvas {
  display: block;
  width: 100% !important;
  max-width: 100% !important;
  height: auto !important;
  margin: 0 auto;
  position: relative;           /* avoid accidental stacking above siblings */
  z-index: 0;
}

/* Sub-desktop safety to avoid tiny horizontal overflow due to 100vw quirks */
@media (max-width: 1024px) {
  .circular-gallery { max-width: 100% !important; }
}
